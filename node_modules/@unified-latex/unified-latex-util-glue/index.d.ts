import * as Ast from '@unified-latex/unified-latex-types';

declare type Dim = {
    type: "dim";
    value: number;
    unit: string;
};

/**
 * Extract glue from a list of nodes returning a node array with
 * properly formatted glue as well as start/end indices where the glue was
 * "sliced out" of `nodes`.
 *
 * Sometimes glue may end in the middle of a string node. If this happens, the
 * string node is split and the second half is returned in the `trailingStrings` array.
 */
export declare function extractFormattedGlue(nodes: (Ast.Node | Ast.Argument)[], startIndex: number): {
    glue: Ast.Node[];
    span: {
        start: number;
        end: number;
    };
    trailingStrings: Ast.String[];
} | null;

/**
 * Finds patterns matching TeX glue in `nodes`. A pretty-formatted version
 * of the glue is returned along with information about how many nodes were consumed.
 *
 * The return object consists of
 *   * `printedGlue` - the pretty-printed version of the glue
 *   * `endIndex` - the index in `nodes` where the glue string terminates
 *   * `partialSliceLen` - how far into the `Ast.String` node the glue string finished. For example `1ptXX` would parse as `1pt`, and the parsing would terminate partway through the string node.
 */
export declare function findGlue(nodes: (Ast.Node | Ast.Argument)[], startIndex: number): {
    printedGlue: Ast.Node[];
    endIndex: number;
    partialSliceLen: number;
} | null;

export declare type Glue = {
    type: "glue";
    fixed: Dim;
    stretchable: Dim | null;
    shrinkable: Dim | null;
    position: {
        start: Position;
        end: Position;
    };
};

/**
 * Parse a string that starts with TeX glue (e.g. `1pt` or `1pt plus 2em`).
 * It is assumed that all whitespace and comments have been stripped from the glue
 */
export declare function parseTexGlue(source: string): Glue | null;

declare type Position = {
    offset: number;
    line: number;
    column: number;
};

/**
 * Prints a `Glue` object to an AST. After printing, `glue`
 * is turned into a sequence of string and whitespace nodes.
 * All structural information about the glue is lost.
 */
export declare function printGlue(glue: Glue): Ast.Node[];

export { }
