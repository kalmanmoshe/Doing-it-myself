{"version":3,"file":"index.cjs","sources":["../../../rules/unified-latex-lint-no-tex-display-math/index.ts"],"sourcesContent":["import { lintRule } from \"unified-lint-rule\";\nimport * as Ast from \"@unified-latex/unified-latex-types\";\nimport { match } from \"@unified-latex/unified-latex-util-match\";\nimport { visit } from \"@unified-latex/unified-latex-util-visit\";\n\ntype PluginOptions = undefined;\n\nexport const DESCRIPTION = `## Lint Rule\n\nAvoid using TeX display math command \\`$$...$$\\`. Instead prefer \\`\\\\[...\\\\] \\`.\n\nWhen printing processed latex, \\`$$...$$\\` is automatically replaced with \\`\\\\[...\\\\] \\`.\n\n### See\n\nCTAN l2tabuen Section 1.7`;\n\nexport const unifiedLatexLintNoTexDisplayMath = lintRule<\n    Ast.Root,\n    PluginOptions\n>(\n    { origin: \"unified-latex-lint:no-tex-display-math\" },\n    (tree, file, options) => {\n        visit(\n            tree,\n            (node) => {\n                if (node.type !== \"displaymath\" || node.position == null) {\n                    return;\n                }\n                if (\n                    file.value &&\n                    file.value.slice(\n                        node.position.start.offset,\n                        node.position.start.offset + 2\n                    ) === \"$$\"\n                ) {\n                    file.message(\n                        `Avoid using $$...$$ for display math; prefer \\\\[...\\\\]`,\n                        node\n                    );\n                }\n            },\n            { test: match.math }\n        );\n    }\n);\n"],"names":["lintRule","visit","match"],"mappings":";;;;;AAOO,MAAM,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUpB,MAAM,mCAAmCA,MAAA;AAAA,EAI5C,EAAE,QAAQ,yCAAyC;AAAA,EACnD,CAAC,MAAM,MAAM,YAAY;AACrBC,0BAAA;AAAA,MACI;AAAA,MACA,CAAC,SAAS;AACN,YAAI,KAAK,SAAS,iBAAiB,KAAK,YAAY,MAAM;AACtD;AAAA,QACJ;AAEI,YAAA,KAAK,SACL,KAAK,MAAM;AAAA,UACP,KAAK,SAAS,MAAM;AAAA,UACpB,KAAK,SAAS,MAAM,SAAS;AAAA,cAC3B,MACR;AACO,eAAA;AAAA,YACD;AAAA,YACA;AAAA,UAAA;AAAA,QAER;AAAA,MACJ;AAAA,MACA,EAAE,MAAMC,sBAAA,MAAM,KAAK;AAAA,IAAA;AAAA,EAE3B;AACJ;;;"}